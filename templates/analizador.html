{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Analizador de Finanzas</h1>

    {% if plot_url %}
    <div class="grafico-container">
        <img src="data:image/png;base64,{{ plot_url }}" 
             class="responsive-img" 
             alt="Gráfico de gastos">
    </div>
{% else %}
    <div class="alert alert-info">
        ¡No hay datos para mostrar! Por favor ingresa tus gastos en la sección de registro.
    </div>
{% endif %}

    <div class="presupuesto-section">
        <h3>Presupuesto Recomendado (50/30/20)</h3>
        <strong>¿Qué es el Ahorro 50/30/20?</strong>
        <br>Es un método para gestionar el dinero, dividiendo los ingresos en tres categorías: 50% para necesidades, 30% para deseos y 20% para ahorro o pago de deudas. Este enfoque ayuda a mantener un equilibrio financiero y a alcanzar metas a largo plazo. 
        <div class="budget-item">
            <br><span>Necesidades (50%):</span>
            <strong>${{ "%.2f"|format(presupuesto.necesidades) }}</strong>
        </div>
        <div class="budget-item">
            <span>Deseos (30%):</span>
            <strong>${{ "%.2f"|format(presupuesto.deseos) }}</strong>
        </div>
        <div class="budget-item">
            <span>Ahorro (20%):</span>
            <strong>${{ "%.2f"|format(presupuesto.ahorro) }}</strong>
        </div>
    </div>
</div>

<style>

.responsive-img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
}

</style>

{% endblock %}